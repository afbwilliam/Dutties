/*  Java Native Interrface code generated by apiwrapper for GAMS Version 24.0.2 */

#include <jni.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <gmdcc.h>

typedef union foo { void *p; jlong i; } u64_t;

typedef char string255[256];
typedef char stringUEL[GLOBAL_UEL_IDENT_SIZE];


static void printerr(const char *mess, const char*name)
{
   fprintf(stderr,"%s: %s\n",mess,name);
   exit(1);
}

static JavaVM *Cached_JVM = NULL;
JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *vm, void *reserved)
{
    Cached_JVM = vm;
    return JNI_VERSION_1_2;
}

static char* getMethodName_(const char* name)
{
    char *s;
    s = strrchr(name,'.');
    if (s==NULL)
        return NULL;
    ++s;
    return strdup(s);
}

static char* getClassName_(const char* name)
{
    char *s;
    char *t;
    t = strdup(name);
    s = strrchr(t,'.');
    if (s==NULL)
        return NULL;
    *s = '\0';
    return t;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReady(JNIEnv *env, jobject obj, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReady(JNIEnv *env, jobject obj, jobjectArray msg)
{
   int rc_GetReady;
   jstring local_msg;
   char buffer_msg[256];
   rc_GetReady = gmdGetReady(buffer_msg, sizeof(buffer_msg));
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReady;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReadyD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReadyD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_GetReadyD;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   buffer_msg[0] = '\0';
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_GetReadyD = gmdGetReadyD(local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReadyD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReadyL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_GetReadyL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg)
{
   int rc_GetReadyL;
   char *local_libName;
   jstring local_msg;
   char buffer_msg[256];
   buffer_msg[0] = '\0';
   local_libName = (char *) (*env)->GetStringUTFChars(env, libName, NULL);
   rc_GetReadyL = gmdGetReadyL(local_libName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, libName, local_libName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReadyL;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_Create(JNIEnv *env, jobject obj, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_Create(JNIEnv *env, jobject obj, jobjectArray msg)
{
   int rc_Create;
   jfieldID fid;
   u64_t pgmd;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   rc_Create = gmdCreate((gmdHandle_t *)&pgmd.p, buffer_msg, sizeof(buffer_msg));
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgmd.i);
   return rc_Create;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_CreateD;
   jfieldID fid;
   u64_t pgmd;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_CreateD = gmdCreateD((gmdHandle_t *)&pgmd.p, local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgmd.i);
   return rc_CreateD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateDD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateDD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_CreateDD;
   jfieldID fid;
   u64_t pgmd;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_CreateDD = gmdCreateDD((gmdHandle_t *)&pgmd.p, local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgmd.i);
   return rc_CreateDD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_CreateL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg)
{
   int rc_CreateL;
   jfieldID fid;
   u64_t pgmd;
   char *local_libName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_libName = (char *) (*env)->GetStringUTFChars(env, libName, NULL);
   rc_CreateL = gmdCreateL((gmdHandle_t *)&pgmd.p, local_libName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, libName, local_libName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgmd.i);
   return rc_CreateL;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_Free(JNIEnv *env, jobject obj);
JNIEXPORT jint JNICALL Java_com_gams_api_gmd_Free(JNIEnv *env, jobject obj)
{
   int rc_Free;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   rc_Free = gmdFree((gmdHandle_t *)&pgmd.p);
   (*env)->SetLongField(env, obj, fid, pgmd.i);
   return rc_Free;
}


JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_InitFromGDX(JNIEnv *env, jobject obj, jstring fileName)
{
   int rc_gmdInitFromGDX;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_fileName;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_fileName = (char *)(*env)->GetStringUTFChars(env, fileName, NULL);
   rc_gmdInitFromGDX = gmdInitFromGDX((gmdHandle_t)pgmd.p, local_fileName);
   (*env)->ReleaseStringUTFChars(env, fileName, local_fileName);
   return rc_gmdInitFromGDX;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_InitFromDict(JNIEnv *env, jobject obj, jlong gmoPtr, jobjectArray msg)
{
   int rc_gmdInitFromDict;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_gmoPtr;
   jstring local_msg;
   char buffer_msg[256];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_gmoPtr.i = gmoPtr;
   buffer_msg[0] = '\0';
   rc_gmdInitFromDict = gmdInitFromDict((gmdHandle_t)pgmd.p, local_gmoPtr.p, buffer_msg);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_gmdInitFromDict;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_CloseGDX(JNIEnv *env, jobject obj, jboolean loadRemain)
{
   int rc_gmdCloseGDX;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   rc_gmdCloseGDX = gmdCloseGDX((gmdHandle_t)pgmd.p, loadRemain);
   return rc_gmdCloseGDX;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_AddSymbol(JNIEnv *env, jobject obj, jstring symName, jint aDim, jint type, jint userInfo, jstring explText)
{
   u64_t rc_gmdAddSymbol;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_symName;
   char *local_explText;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symName = (char *)(*env)->GetStringUTFChars(env, symName, NULL);
   local_explText = (char *)(*env)->GetStringUTFChars(env, explText, NULL);
   rc_gmdAddSymbol.p = gmdAddSymbol((gmdHandle_t)pgmd.p, local_symName, aDim, type, userInfo, local_explText);
   (*env)->ReleaseStringUTFChars(env, symName, local_symName);
   (*env)->ReleaseStringUTFChars(env, explText, local_explText);
   return rc_gmdAddSymbol.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindSymbol(JNIEnv *env, jobject obj, jstring symName)
{
   u64_t rc_gmdFindSymbol;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_symName;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symName = (char *)(*env)->GetStringUTFChars(env, symName, NULL);
   rc_gmdFindSymbol.p = gmdFindSymbol((gmdHandle_t)pgmd.p, local_symName);
   (*env)->ReleaseStringUTFChars(env, symName, local_symName);
   return rc_gmdFindSymbol.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_GetSymbolByIndex(JNIEnv *env, jobject obj, jint idx)
{
   u64_t rc_gmdGetSymbolByIndex;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   rc_gmdGetSymbolByIndex.p = gmdGetSymbolByIndex((gmdHandle_t)pgmd.p, idx);
   return rc_gmdGetSymbolByIndex.i;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_ClearSymbol(JNIEnv *env, jobject obj, jlong symPtr)
{
   int rc_gmdClearSymbol;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   rc_gmdClearSymbol = gmdClearSymbol((gmdHandle_t)pgmd.p, local_symPtr.p);
   return rc_gmdClearSymbol;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_CopySymbol(JNIEnv *env, jobject obj, jlong tarSymPtr, jlong srcSymPtr, jobjectArray msg)
{
   int rc_gmdCopySymbol;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_tarSymPtr;
   u64_t local_srcSymPtr;
   jstring local_msg;
   char buffer_msg[256];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_tarSymPtr.i = tarSymPtr;
   local_srcSymPtr.i = srcSymPtr;
   buffer_msg[0] = '\0';
   rc_gmdCopySymbol = gmdCopySymbol((gmdHandle_t)pgmd.p, local_tarSymPtr.p, local_srcSymPtr.p, buffer_msg);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_gmdCopySymbol;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindRecord(JNIEnv *env, jobject obj, jlong symPtr, jint aDim, jobjectArray keyStr)
{
   u64_t rc_gmdFindRecord;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   int i_keyStr, sidim_keyStr;
   stringUEL local_keyStr[GLOBAL_MAX_INDEX_DIM];
   char *ptr_keyStr[GLOBAL_MAX_INDEX_DIM];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      char *str_;
      ptr_keyStr[i_keyStr] = local_keyStr[i_keyStr];
      js_ = (*env)->GetObjectArrayElement(env, keyStr, i_keyStr);
      if (js_==NULL)
          js_ = (*env)->NewStringUTF(env, "");
      str_ = (char*) (*env)->GetStringUTFChars(env, js_, NULL);
      strncpy(local_keyStr[i_keyStr], str_, GLOBAL_UEL_IDENT_SIZE-1);
      local_keyStr[i_keyStr][GLOBAL_UEL_IDENT_SIZE-1] = '\0';
      (*env)->ReleaseStringUTFChars(env, js_, str_);
   }
   rc_gmdFindRecord.p = gmdFindRecord((gmdHandle_t)pgmd.p, local_symPtr.p, aDim, ptr_keyStr);
   return rc_gmdFindRecord.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindFirstRecord(JNIEnv *env, jobject obj, jlong symPtr)
{
   u64_t rc_gmdFindFirstRecord;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   rc_gmdFindFirstRecord.p = gmdFindFirstRecord((gmdHandle_t)pgmd.p, local_symPtr.p);
   return rc_gmdFindFirstRecord.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindFirstRecordSlice(JNIEnv *env, jobject obj, jlong symPtr, jint aDim, jobjectArray keyStr)
{
   u64_t rc_gmdFindFirstRecordSlice;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   int i_keyStr, sidim_keyStr;
   stringUEL local_keyStr[GLOBAL_MAX_INDEX_DIM];
   char *ptr_keyStr[GLOBAL_MAX_INDEX_DIM];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      char *str_;
      ptr_keyStr[i_keyStr] = local_keyStr[i_keyStr];
      js_ = (*env)->GetObjectArrayElement(env, keyStr, i_keyStr);
      if (js_==NULL)
          js_ = (*env)->NewStringUTF(env, "");
      str_ = (char*) (*env)->GetStringUTFChars(env, js_, NULL);
      strncpy(local_keyStr[i_keyStr], str_, GLOBAL_UEL_IDENT_SIZE-1);
      local_keyStr[i_keyStr][GLOBAL_UEL_IDENT_SIZE-1] = '\0';
      (*env)->ReleaseStringUTFChars(env, js_, str_);
   }
   rc_gmdFindFirstRecordSlice.p = gmdFindFirstRecordSlice((gmdHandle_t)pgmd.p, local_symPtr.p, aDim, ptr_keyStr);
   return rc_gmdFindFirstRecordSlice.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindLastRecord(JNIEnv *env, jobject obj, jlong symPtr)
{
   u64_t rc_gmdFindLastRecord;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   rc_gmdFindLastRecord.p = gmdFindLastRecord((gmdHandle_t)pgmd.p, local_symPtr.p);
   return rc_gmdFindLastRecord.i;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_FindLastRecordSlice(JNIEnv *env, jobject obj, jlong symPtr, jint aDim, jobjectArray keyStr)
{
   u64_t rc_gmdFindLastRecordSlice;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   int i_keyStr, sidim_keyStr;
   stringUEL local_keyStr[GLOBAL_MAX_INDEX_DIM];
   char *ptr_keyStr[GLOBAL_MAX_INDEX_DIM];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      char *str_;
      ptr_keyStr[i_keyStr] = local_keyStr[i_keyStr];
      js_ = (*env)->GetObjectArrayElement(env, keyStr, i_keyStr);
      if (js_==NULL)
          js_ = (*env)->NewStringUTF(env, "");
      str_ = (char*) (*env)->GetStringUTFChars(env, js_, NULL);
      strncpy(local_keyStr[i_keyStr], str_, GLOBAL_UEL_IDENT_SIZE-1);
      local_keyStr[i_keyStr][GLOBAL_UEL_IDENT_SIZE-1] = '\0';
      (*env)->ReleaseStringUTFChars(env, js_, str_);
   }
   rc_gmdFindLastRecordSlice.p = gmdFindLastRecordSlice((gmdHandle_t)pgmd.p, local_symPtr.p, aDim, ptr_keyStr);
   return rc_gmdFindLastRecordSlice.i;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_RecordMoveNext(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   int rc_gmdRecordMoveNext;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdRecordMoveNext = gmdRecordMoveNext((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdRecordMoveNext;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_RecordMovePrev(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   int rc_gmdRecordMovePrev;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdRecordMovePrev = gmdRecordMovePrev((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdRecordMovePrev;
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_GetElemText(JNIEnv *env, jobject obj, jlong symIterPtr, jobjectArray txt)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   jstring local_txt;
   char buffer_txt[256];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   buffer_txt[0] = '\0';
   gmdGetElemText((gmdHandle_t)pgmd.p, local_symIterPtr.p, buffer_txt);
   local_txt = (*env)->NewStringUTF(env, buffer_txt);
   (*env)->SetObjectArrayElement(env, txt, 0, local_txt);
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gmd_GetLevel(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   double rc_gmdGetLevel;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0.0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdGetLevel = gmdGetLevel((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdGetLevel;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gmd_GetLower(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   double rc_gmdGetLower;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0.0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdGetLower = gmdGetLower((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdGetLower;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gmd_GetUpper(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   double rc_gmdGetUpper;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0.0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdGetUpper = gmdGetUpper((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdGetUpper;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gmd_GetMarginal(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   double rc_gmdGetMarginal;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0.0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdGetMarginal = gmdGetMarginal((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdGetMarginal;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gmd_GetScale(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   double rc_gmdGetScale;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0.0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdGetScale = gmdGetScale((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdGetScale;
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetElemText(JNIEnv *env, jobject obj, jlong symIterPtr, jstring txt)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   char *local_txt;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   local_txt = (char *)(*env)->GetStringUTFChars(env, txt, NULL);
   gmdSetElemText((gmdHandle_t)pgmd.p, local_symIterPtr.p, local_txt);
   (*env)->ReleaseStringUTFChars(env, txt, local_txt);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetLevel(JNIEnv *env, jobject obj, jlong symIterPtr, jdouble value)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdSetLevel((gmdHandle_t)pgmd.p, local_symIterPtr.p, value);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetLower(JNIEnv *env, jobject obj, jlong symIterPtr, jdouble value)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdSetLower((gmdHandle_t)pgmd.p, local_symIterPtr.p, value);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetUpper(JNIEnv *env, jobject obj, jlong symIterPtr, jdouble value)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdSetUpper((gmdHandle_t)pgmd.p, local_symIterPtr.p, value);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetMarginal(JNIEnv *env, jobject obj, jlong symIterPtr, jdouble value)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdSetMarginal((gmdHandle_t)pgmd.p, local_symIterPtr.p, value);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetScale(JNIEnv *env, jobject obj, jlong symIterPtr, jdouble value)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdSetScale((gmdHandle_t)pgmd.p, local_symIterPtr.p, value);
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_AddRecord(JNIEnv *env, jobject obj, jlong symPtr, jint aDim, jobjectArray keyStr)
{
   u64_t rc_gmdAddRecord;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   int i_keyStr, sidim_keyStr;
   stringUEL local_keyStr[GLOBAL_MAX_INDEX_DIM];
   char *ptr_keyStr[GLOBAL_MAX_INDEX_DIM];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      char *str_;
      ptr_keyStr[i_keyStr] = local_keyStr[i_keyStr];
      js_ = (*env)->GetObjectArrayElement(env, keyStr, i_keyStr);
      if (js_==NULL)
          js_ = (*env)->NewStringUTF(env, "");
      str_ = (char*) (*env)->GetStringUTFChars(env, js_, NULL);
      strncpy(local_keyStr[i_keyStr], str_, GLOBAL_UEL_IDENT_SIZE-1);
      local_keyStr[i_keyStr][GLOBAL_UEL_IDENT_SIZE-1] = '\0';
      (*env)->ReleaseStringUTFChars(env, js_, str_);
   }
   rc_gmdAddRecord.p = gmdAddRecord((gmdHandle_t)pgmd.p, local_symPtr.p, aDim, ptr_keyStr);
   return rc_gmdAddRecord.i;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_DeleteRecord(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   int rc_gmdDeleteRecord;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdDeleteRecord = gmdDeleteRecord((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdDeleteRecord;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_GetKeys(JNIEnv *env, jobject obj, jlong symIterPtr, jint aDim, jobjectArray keyStr)
{
   int rc_gmdGetKeys;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   int i_keyStr, sidim_keyStr;
   stringUEL local_keyStr[GLOBAL_MAX_INDEX_DIM];
   char *ptr_keyStr[GLOBAL_MAX_INDEX_DIM];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      char *str_;
      ptr_keyStr[i_keyStr] = local_keyStr[i_keyStr];
      js_ = (*env)->GetObjectArrayElement(env, keyStr, i_keyStr);
      if (js_==NULL)
          js_ = (*env)->NewStringUTF(env, "");
      str_ = (char*) (*env)->GetStringUTFChars(env, js_, NULL);
      strncpy(local_keyStr[i_keyStr], str_, GLOBAL_UEL_IDENT_SIZE-1);
      local_keyStr[i_keyStr][GLOBAL_UEL_IDENT_SIZE-1] = '\0';
      (*env)->ReleaseStringUTFChars(env, js_, str_);
   }
   rc_gmdGetKeys = gmdGetKeys((gmdHandle_t)pgmd.p, local_symIterPtr.p, aDim, ptr_keyStr);
   sidim_keyStr = aDim;
   for(i_keyStr=0;i_keyStr<sidim_keyStr;++i_keyStr) {
      jstring js_;
      strncpy(local_keyStr[i_keyStr],ptr_keyStr[i_keyStr],GLOBAL_UEL_IDENT_SIZE-1);
      js_ = (*env)->NewStringUTF(env, local_keyStr[i_keyStr]);
      (*env)->SetObjectArrayElement(env, keyStr, i_keyStr, js_);
   }
   return rc_gmdGetKeys;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gmd_CopySymbolIterator(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   u64_t rc_gmdCopySymbolIterator;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   rc_gmdCopySymbolIterator.p = gmdCopySymbolIterator((gmdHandle_t)pgmd.p, local_symIterPtr.p);
   return rc_gmdCopySymbolIterator.i;
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_FreeSymbolIterator(JNIEnv *env, jobject obj, jlong symIterPtr)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symIterPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symIterPtr.i = symIterPtr;
   gmdFreeSymbolIterator((gmdHandle_t)pgmd.p, local_symIterPtr.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_FreeAllSymbolIterators(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   gmdFreeAllSymbolIterators((gmdHandle_t)pgmd.p);
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_Info(JNIEnv *env, jobject obj, jint infoKey, jintArray ival, jdoubleArray dval, jobjectArray sval)
{
   int rc_gmdInfo;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   int local_ival[1];
   double local_dval[1];
   jstring local_sval;
   char buffer_sval[256];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   buffer_sval[0] = '\0';
   rc_gmdInfo = gmdInfo((gmdHandle_t)pgmd.p, infoKey, local_ival, local_dval, buffer_sval);
   (*env)->SetIntArrayRegion(env, ival, 0, 1, local_ival);
   (*env)->SetDoubleArrayRegion(env, dval, 0, 1, local_dval);
   local_sval = (*env)->NewStringUTF(env, buffer_sval);
   (*env)->SetObjectArrayElement(env, sval, 0, local_sval);
   return rc_gmdInfo;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_SymbolInfo(JNIEnv *env, jobject obj, jlong symPtr, jint infoKey, jintArray ival, jdoubleArray dval, jobjectArray sval)
{
   int rc_gmdSymbolInfo;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   int local_ival[1];
   double local_dval[1];
   jstring local_sval;
   char buffer_sval[256];
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   buffer_sval[0] = '\0';
   rc_gmdSymbolInfo = gmdSymbolInfo((gmdHandle_t)pgmd.p, local_symPtr.p, infoKey, local_ival, local_dval, buffer_sval);
   (*env)->SetIntArrayRegion(env, ival, 0, 1, local_ival);
   (*env)->SetDoubleArrayRegion(env, dval, 0, 1, local_dval);
   local_sval = (*env)->NewStringUTF(env, buffer_sval);
   (*env)->SetObjectArrayElement(env, sval, 0, local_sval);
   return rc_gmdSymbolInfo;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gmd_SymbolType(JNIEnv *env, jobject obj, jlong symPtr)
{
   int rc_gmdSymbolType;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_symPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_symPtr.i = symPtr;
   rc_gmdSymbolType = gmdSymbolType((gmdHandle_t)pgmd.p, local_symPtr.p);
   return rc_gmdSymbolType;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_WriteGDX(JNIEnv *env, jobject obj, jstring fileName)
{
   int rc_gmdWriteGDX;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_fileName;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_fileName = (char *)(*env)->GetStringUTFChars(env, fileName, NULL);
   rc_gmdWriteGDX = gmdWriteGDX((gmdHandle_t)pgmd.p, local_fileName);
   (*env)->ReleaseStringUTFChars(env, fileName, local_fileName);
   return rc_gmdWriteGDX;
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetSpecialValues(JNIEnv *env, jobject obj, jdoubleArray specVal)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   double *local_specVal;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_specVal = (*env)->GetDoubleArrayElements(env, specVal, NULL);
   gmdSetSpecialValues((gmdHandle_t)pgmd.p, local_specVal);
   (*env)->ReleaseDoubleArrayElements(env, specVal, local_specVal, 0);
}

JNIEXPORT void JNICALL Java_com_gams_api_gmd_SetDebug(JNIEnv *env, jobject obj, jint debugLevel)
{
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return ;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   gmdSetDebug((gmdHandle_t)pgmd.p, debugLevel);
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_InitUpdate(JNIEnv *env, jobject obj, jlong gmoPtr)
{
   int rc_gmdInitUpdate;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_gmoPtr;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_gmoPtr.i = gmoPtr;
   rc_gmdInitUpdate = gmdInitUpdate((gmdHandle_t)pgmd.p, local_gmoPtr.p);
   return rc_gmdInitUpdate;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_UpdateModelSymbol(JNIEnv *env, jobject obj, jlong gamsSymPtr, jint actionType, jlong dataSymPtr, jint updateType, jintArray noMatchCnt)
{
   int rc_gmdUpdateModelSymbol;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_gamsSymPtr;
   u64_t local_dataSymPtr;
   int *local_noMatchCnt;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_gamsSymPtr.i = gamsSymPtr;
   local_dataSymPtr.i = dataSymPtr;
   local_noMatchCnt = (*env)->GetIntArrayElements(env, noMatchCnt, NULL);
   rc_gmdUpdateModelSymbol = gmdUpdateModelSymbol((gmdHandle_t)pgmd.p, local_gamsSymPtr.p, actionType, local_dataSymPtr.p, updateType, local_noMatchCnt);
   (*env)->ReleaseIntArrayElements(env, noMatchCnt, local_noMatchCnt, 0);
   return rc_gmdUpdateModelSymbol;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gmd_CallSolver(JNIEnv *env, jobject obj, jstring solvername)
{
   int rc_gmdCallSolver;
   jfieldID fid;
   u64_t pgmd;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   fid = (*env)->GetFieldID(env, cls, "gmdPtr", "J");
   if (fid == NULL) return 0;
   pgmd.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   rc_gmdCallSolver = gmdCallSolver((gmdHandle_t)pgmd.p, local_solvername);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   return rc_gmdCallSolver;
}
